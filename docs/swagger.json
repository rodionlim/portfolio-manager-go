{
    "swagger": "2.0",
    "info": {
        "description": "This is a server for a portfolio manager.",
        "title": "Portfolio Manager API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/api/v1/blotter/export": {
            "get": {
                "description": "Export all trades to a CSV file",
                "produces": [
                    "text/csv"
                ],
                "tags": [
                    "trades"
                ],
                "summary": "Export trades to CSV",
                "responses": {
                    "200": {
                        "description": "trades.csv",
                        "schema": {
                            "type": "file"
                        }
                    },
                    "500": {
                        "description": "Failed to export trades",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/blotter/export-with-fx": {
            "get": {
                "description": "Export all trades as CSV with FX rates inferred where missing",
                "produces": [
                    "text/csv"
                ],
                "tags": [
                    "trades"
                ],
                "summary": "Export trades with inferred FX rates",
                "responses": {
                    "200": {
                        "description": "trades_with_fx.csv",
                        "schema": {
                            "type": "file"
                        }
                    },
                    "500": {
                        "description": "Failed to export trades",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/blotter/fx": {
            "get": {
                "description": "Get current FX rates for all currencies in blotter trades",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "fx"
                ],
                "summary": "Get current FX rates",
                "responses": {
                    "200": {
                        "description": "Map of currencies to their current FX rates",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "number"
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to fetch FX rates",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/blotter/import": {
            "post": {
                "description": "Import trades from a CSV file",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trades"
                ],
                "summary": "Import trades from CSV",
                "parameters": [
                    {
                        "type": "file",
                        "description": "CSV file",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Failed to get file from request",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Failed to import trades",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/blotter/import-ui": {
            "post": {
                "description": "Import trades from a CSV file uploaded from the UI",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trades"
                ],
                "summary": "Import trades from CSV upload",
                "parameters": [
                    {
                        "type": "file",
                        "description": "CSV file",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Trades imported successfully",
                        "schema": {
                            "$ref": "#/definitions/common.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid file or format",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Server error processing import",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/blotter/trade": {
            "get": {
                "description": "Retrieve all trades from the blotter",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trades"
                ],
                "summary": "Get all trades",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/blotter.Trade"
                            }
                        }
                    }
                }
            },
            "put": {
                "description": "Update a trade in the blotter",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trades"
                ],
                "summary": "Update a trade",
                "parameters": [
                    {
                        "description": "Trade Request",
                        "name": "trade",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/blotter.TradeRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/blotter.Trade"
                        }
                    },
                    "400": {
                        "description": "Invalid request payload",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Failed to update trade",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "description": "Add a new trade to the blotter",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trades"
                ],
                "summary": "Add a new trade",
                "parameters": [
                    {
                        "description": "Trade Request",
                        "name": "trade",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/blotter.TradeRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/blotter.Trade"
                        }
                    },
                    "400": {
                        "description": "Invalid request payload",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Failed to add trade",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete all trades by ids from the blotter",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trades"
                ],
                "summary": "Delete all trades by ids",
                "parameters": [
                    {
                        "description": "Trade IDs",
                        "name": "ids",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "integer"
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "message",
                        "schema": {
                            "$ref": "#/definitions/common.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request payload",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Failed to delete trades",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/blotter/trade/all": {
            "delete": {
                "description": "Delete all trades from the blotter",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "trades"
                ],
                "summary": "Delete all trades",
                "responses": {
                    "200": {
                        "description": "message",
                        "schema": {
                            "$ref": "#/definitions/common.SuccessResponse"
                        }
                    },
                    "500": {
                        "description": "Failed to delete all trades",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/dividends": {
            "get": {
                "description": "Get dividends for all tickers",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "dividends"
                ],
                "summary": "Get dividends for all tickers",
                "responses": {
                    "200": {
                        "description": "Mapping of ticker to dividends",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/definitions/dividends.Dividends"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "failed to calculate dividends",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/dividends/{ticker}": {
            "get": {
                "description": "Get dividends for a single ticker",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "dividends"
                ],
                "summary": "Get dividends for a single ticker",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Asset ticker symbol",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dividends.Dividends"
                            }
                        }
                    },
                    "500": {
                        "description": "failed to calculate dividends",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/mdata/dividends/import": {
            "post": {
                "description": "Handles the import of dividend data from an uploaded CSV file for a multiple tickers",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "market-data"
                ],
                "summary": "Import dividend data from CSV stream",
                "parameters": [
                    {
                        "type": "file",
                        "description": "CSV file containing dividend data",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully imported dividends data",
                        "schema": {
                            "$ref": "#/definitions/common.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "Bad request - Invalid form data",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/mdata/dividends/{ticker}": {
            "get": {
                "description": "Retrieves dividend history data for a specified stock ticker",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "market-data"
                ],
                "summary": "Get dividend metadata for a ticker",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Asset ticker symbol",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Dividend data for the ticker",
                        "schema": {}
                    },
                    "400": {
                        "description": "Bad request - Ticker is required",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "description": "Stores user-provided dividend history data for a specified stock ticker",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "market-data"
                ],
                "summary": "Store custom dividend metadata for a ticker",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Asset ticker symbol",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Array of dividend metadata to store",
                        "name": "dividend_data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/types.DividendsMetadata"
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Dividends metadata stored successfully",
                        "schema": {
                            "$ref": "#/definitions/common.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "Bad request - Ticker is required or invalid request body",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/mdata/price/historical/{ticker}": {
            "get": {
                "description": "Retrieves historical price data for a specified ticker between start and end dates",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "market-data"
                ],
                "summary": "Get historical price data for a ticker",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Ticker symbol (see reference data)",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Start date in YYYYMMDD format",
                        "name": "start",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "End date in YYYYMMDD format (defaults to today)",
                        "name": "end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Historical price data for the ticker",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/types.AssetData"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Invalid parameters",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/mdata/price/{ticker}": {
            "get": {
                "description": "Retrieves current market data for a specified ticker",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "market-data"
                ],
                "summary": "Get market data for a single ticker",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Ticker symbol (see reference data)",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Market data for the ticker",
                        "schema": {}
                    },
                    "400": {
                        "description": "Bad request - Ticker is required",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/mdata/tickers/price": {
            "get": {
                "description": "Retrieves current market data for multiple asset tickers",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "market-data"
                ],
                "summary": "Get market data for multiple tickers",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Comma-separated list of asset ticker symbols",
                        "name": "tickers",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Market data for all requested tickers",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad request - Tickers query parameter is required",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metrics": {
            "get": {
                "description": "Get the Internal Rate of Return (IRR), MV, Price Paid for the entire portfolio",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "metrics"
                ],
                "summary": "Get portfolio IRR",
                "responses": {
                    "200": {
                        "description": "The portfolio metrics, including IRR, cash flows and others",
                        "schema": {
                            "$ref": "#/definitions/metrics.MetricsResult"
                        }
                    },
                    "500": {
                        "description": "Failed to calculate portoflio metrics",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/portfolio/cleanup": {
            "post": {
                "description": "Closes positions that have expired without a corresponding closure trade",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "portfolio"
                ],
                "summary": "Close positions that have expired",
                "responses": {
                    "200": {
                        "description": "Trade Ids of closed trades",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to auto close positions",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/portfolio/positions": {
            "get": {
                "description": "Retrieves all positions currently in the portfolio",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "portfolio"
                ],
                "summary": "Get all portfolio positions",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/portfolio.Position"
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to get positions",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "description": "Deletes all positions currently in the portfolio",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "portfolio"
                ],
                "summary": "Delete all portfolio positions",
                "responses": {
                    "200": {
                        "description": "Positions deleted successfully",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Failed to delete positions",
                        "schema": {
                            "$ref": "#/definitions/common.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/refdata": {
            "get": {
                "description": "Retrieves all reference data",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Reference"
                ],
                "summary": "Get reference data",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {}
                    }
                }
            },
            "put": {
                "description": "Updates reference data",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Reference"
                ],
                "summary": "Update reference data",
                "parameters": [
                    {
                        "description": "Reference data",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/rdata.TickerReference"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/rdata.TickerReference"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {}
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {}
                    }
                }
            },
            "post": {
                "description": "Adds reference data",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Reference"
                ],
                "summary": "Add reference data",
                "parameters": [
                    {
                        "description": "Reference data",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/rdata.TickerReference"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {}
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {}
                    }
                }
            },
            "delete": {
                "description": "Deletes reference data by id",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Reference"
                ],
                "summary": "Delete reference data",
                "parameters": [
                    {
                        "description": "Reference data ids (underlying tickers)",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/rdata.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {}
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {}
                    }
                }
            }
        },
        "/api/v1/refdata/export": {
            "get": {
                "description": "Exports reference data in yaml format",
                "produces": [
                    "application/x-yaml"
                ],
                "tags": [
                    "Reference"
                ],
                "summary": "Export reference data",
                "responses": {
                    "200": {
                        "description": "refdata.yaml",
                        "schema": {
                            "type": "file"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {}
                    }
                }
            }
        },
        "/healthz": {
            "get": {
                "description": "Returns a simple message to indicate that the server is up and running",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Health check",
                "responses": {
                    "200": {
                        "description": "I'm up!",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "blotter.Trade": {
            "type": "object",
            "required": [
                "Account",
                "Broker",
                "Quantity",
                "Side",
                "Ticker",
                "TradeDate",
                "Trader"
            ],
            "properties": {
                "Account": {
                    "description": "Account associated with the trade (CDP, MIP, Custodian)",
                    "type": "string"
                },
                "Broker": {
                    "description": "Broker who executed the trade",
                    "type": "string"
                },
                "Fx": {
                    "description": "FX rate for the trade",
                    "type": "number"
                },
                "OrigTradeID": {
                    "description": "Original trade ID to link auto closed trades to the original trade",
                    "type": "string"
                },
                "Price": {
                    "description": "Price per unit of the asset",
                    "type": "number",
                    "minimum": 0
                },
                "Quantity": {
                    "description": "Quantity of the asset",
                    "type": "number"
                },
                "SeqNum": {
                    "description": "Sequence number",
                    "type": "integer"
                },
                "Side": {
                    "description": "Buy or Sell",
                    "type": "string"
                },
                "Status": {
                    "description": "Status of the trade (e.g. Open, AutoClosed, Closed), autoclosed if the trade is closed by the system automatically upon expiry (e.g. MAS Bills), closed if the trade is closed manually",
                    "type": "string"
                },
                "Ticker": {
                    "description": "Ticker symbol of the asset",
                    "type": "string"
                },
                "TradeDate": {
                    "description": "Date and time of the trade",
                    "type": "string"
                },
                "TradeID": {
                    "description": "Unique identifier for the trade",
                    "type": "string"
                },
                "Trader": {
                    "description": "Trader who executed the trade",
                    "type": "string"
                },
                "Yield": {
                    "description": "Yield of the asset",
                    "type": "number"
                }
            }
        },
        "blotter.TradeRequest": {
            "type": "object",
            "properties": {
                "account": {
                    "type": "string"
                },
                "broker": {
                    "type": "string"
                },
                "fx": {
                    "type": "number"
                },
                "id": {
                    "type": "string"
                },
                "origTradeID": {
                    "type": "string"
                },
                "price": {
                    "type": "number"
                },
                "quantity": {
                    "type": "number"
                },
                "seqNum": {
                    "description": "Sequence number",
                    "type": "integer"
                },
                "side": {
                    "type": "string"
                },
                "status": {
                    "type": "string"
                },
                "ticker": {
                    "type": "string"
                },
                "tradeDate": {
                    "type": "string"
                },
                "trader": {
                    "type": "string"
                },
                "yield": {
                    "type": "number"
                }
            }
        },
        "common.ErrorResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        },
        "common.SuccessResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        },
        "dividends.Dividends": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "number"
                },
                "amountPerShare": {
                    "type": "number"
                },
                "exDate": {
                    "type": "string"
                },
                "qty": {
                    "type": "number"
                }
            }
        },
        "metrics.MetricsResult": {
            "type": "object",
            "properties": {
                "irr": {
                    "type": "number"
                },
                "mv": {
                    "description": "Portfolio market value",
                    "type": "number"
                },
                "pricePaid": {
                    "description": "Buy - Sell",
                    "type": "number"
                },
                "totalDividends": {
                    "description": "Total dividends",
                    "type": "number"
                }
            }
        },
        "portfolio.Position": {
            "type": "object",
            "properties": {
                "assetClass": {
                    "type": "string"
                },
                "assetSubClass": {
                    "type": "string"
                },
                "avgPx": {
                    "type": "number"
                },
                "ccy": {
                    "type": "string"
                },
                "dividends": {
                    "type": "number"
                },
                "fxRate": {
                    "type": "number"
                },
                "mv": {
                    "type": "number"
                },
                "pnL": {
                    "type": "number"
                },
                "px": {
                    "type": "number"
                },
                "qty": {
                    "type": "number"
                },
                "ticker": {
                    "type": "string"
                },
                "totalPaid": {
                    "type": "number"
                },
                "trader": {
                    "type": "string"
                }
            }
        },
        "rdata.SuccessResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        },
        "rdata.TickerReference": {
            "type": "object",
            "required": [
                "asset_class",
                "ccy",
                "domicile",
                "id",
                "name",
                "underlying_ticker"
            ],
            "properties": {
                "asset_class": {
                    "type": "string"
                },
                "asset_sub_class": {
                    "type": "string"
                },
                "call_put": {
                    "type": "string",
                    "enum": [
                        "call",
                        "put"
                    ]
                },
                "category": {
                    "type": "string"
                },
                "ccy": {
                    "type": "string"
                },
                "coupon_rate": {
                    "type": "number"
                },
                "dividends_sg_ticker": {
                    "type": "string"
                },
                "domicile": {
                    "type": "string"
                },
                "google_ticker": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "maturity_date": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "strike_price": {
                    "type": "number"
                },
                "sub_category": {
                    "type": "string"
                },
                "underlying_ticker": {
                    "type": "string"
                },
                "yahoo_ticker": {
                    "type": "string"
                }
            }
        },
        "types.AssetData": {
            "type": "object",
            "properties": {
                "currency": {
                    "type": "string"
                },
                "price": {
                    "type": "number"
                },
                "ticker": {
                    "type": "string"
                },
                "timestamp": {
                    "type": "integer"
                }
            }
        },
        "types.DividendsMetadata": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "number"
                },
                "avgInterest": {
                    "description": "SSB, TBills and Bonds only, in percentage",
                    "type": "number"
                },
                "exDate": {
                    "type": "string"
                },
                "interest": {
                    "description": "SSB, TBills and Bonds only, in percentage",
                    "type": "number"
                },
                "ticker": {
                    "type": "string"
                },
                "withholdingTax": {
                    "description": "in decimal, not percentage",
                    "type": "number"
                }
            }
        }
    }
}